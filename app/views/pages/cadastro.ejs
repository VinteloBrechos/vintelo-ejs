<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vintélo</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/simple-notify@0.5.5/dist/simple-notify.min.css" />
    <script src="https://cdn.jsdelivr.net/npm/simple-notify@0.5.5/dist/simple-notify.min.js"></script>
    <script src="../../public/script/script.js"></script>
    <link rel="stylesheet" href="css/cadastro.css">

    <link rel="icon" href="/imagens/brilhoescuro.png" type="image/x-icon">
    
</head>
<body>
     <% 
    let msgErro = "";
    let avisoErro = {"nome_usu":"", "senha_usu":"",nomeusu_usu:"", senha_usu:""};
    if(listaErros){
        listaErros.errors.forEach(function(itemErro){
            if(itemErro.path == "nome_usu"){
                avisoErro.nome_usu = "erro";
                msgErro += `* ${itemErro.msg} <br>`;
            }
            if(itemErro.path == "senha_usu"){
                avisoErro.senha_usu = "erro";
                msgErro += `* ${itemErro.msg} <br>`;
            }
            if(itemErro.path == "nomeusu_usu"){
                avisoErro.nomeusu_usu = "erro";
                msgErro += `* ${itemErro.msg} <br>`;
            }
            if(itemErro.path == "email_usu"){
                avisoErro.email_usu = "erro";
                msgErro += `* ${itemErro.msg} <br>`;
            }
        })        
        if(msgErro != ""){
        %>
        <script>
                let msgErro ="<%= msgErro %>"
                notify("Erro(s) no preenchimento","Verifique o(s) campo(s) <br>  " + msgErro.replace(/&lt;/g,"<").replace(/&gt;/g,">"),
                 "error", "center", 5000)                        
            </script>
        <%
        }
    }
    if (dadosNotificacao) { %>
        <script>
                notify("<%= dadosNotificacao.titulo%>","<%= dadosNotificacao.mensagem%>", "<%= dadosNotificacao.tipo%>", "center")
                if("<%= dadosNotificacao.tipo %>" == "success"){
                    setTimeout(function(){window.location="/sair"}, 3000)
                }                        
        </script>
    <% } %>
    <header>
        <nav class="grid">
            <a href="/index">
                <img src="imagens/seta.png" alt="Seta Voltar">
            </a>
            <img src="imagens/logo.png" alt="Logo" class="logo-vintelo">
            <img src="imagens/quadrado.png" class="img-branca">
        </nav>
    </header>
    <main class="login-container">
        <aside class="image-section">
            <section class="seta">
                <a href="/index">
                    <img src="imagens/seta.png">
                </a>
            </section>
            <img src="imagens/maniquim.png" alt="Mannequin" class="mannequin">
            <section class="content">
                <h1>Sua essência na aparência</h1>
                <p>Crie seu estilo individual e único e fique incrível todos os dias.</p>
                <br>
                <section class="buttons">
                    <a href="/criarbrecho" class="button">Vender</a>
                    <a href="/login" class="button">Comprar</a>
                </section>
                <br>
                <p>Ja tem uma conta? <a href="/entrar"> Entrar</a></p>
            </section>
        </aside>
        <section class="form-section">
            <section class="form-container">
                    <h2>Acesso fácil</h2>
                    <p>Conecte-se usando seu cadastro de outra plataforma</p>

                <section class="social-login">
                    <a href="#"><img src="imagens/face.jpg"></a>
                    <a href="#"><img src="imagens/insta.jpg"></a>
                    <a href="#"><img src="imagens/google.jpg"></a>
                </section>

                <p class="divider">ou acesse via email</p>
                <section class="login-register">
                    <section class="login">
                        <h3>Entrar</h3>
                        <form id="loginForm" action="#" method="post" >
                            <label for="nomeusu_usu">Email ou nome de usuário</label>
                            <input type="nomeusu_usu" id="nomeusu_usu" name="nome_usu" placeholder="Digite aqui..."  value="<%= valores.nomeusu_usu %>" class="<%= avisoErro.nomeusu_usu %>">

                            <label for="senha_usu">Senha</label>
                            <input type="senha_usu" id="senha_usu" name="senha_usu" placeholder="Digite aqui..."  value="<%= valores.senha_usu %>" class="<%= avisoErro.senha_usu %>">

                            <button class="submit-btn">Entrar</button>
                        </form>
                    </section>

                    <section class="register">
                        <h3>Cadastrar</h3>
                        <form id="registerForm" action="#" method="post">
                            <label for="nomeusu_usu">Nome de usuário</label>
                            <input type="nomeusu_usu" id="nomeusu_usu" name="nomeusu_usu" placeholder="Digite seu nome"  value="<%= valores.nomeusu_usu %>" class="<%= avisoErro.nomeusu_usu %>">

                            <label for="email_usu">Endereço de email</label>
                            <input type="email_usu" id="email_usu" name="email_usu" placeholder="conta.sanders@exemplo.com"  value="<%= valores.email_usu %>" class="<%= avisoErro.email_usu %>">

                            <label for="senha_usu">Senha</label>
                            <input type="senha_usu" id="senha_usu" name="senha_usu" placeholder="Digite aqui..."  value="<%= valores.senha_usu %>" class="<%= avisoErro.senha_usu %>">

                            <label for="fone_usu">Contato</label>
                            <input type="fone_usu" id="fone_usu" name="fone_usu" placeholder="(**) *****-****"  value="<%= valores.fone_usu %>" class="<%= avisoErro.fone_usu %>">

                           <label for="cpf">Adicionar CPF</label>
                         <input type="text" id="cpf" name="cpf" placeholder="*********/**" required>

                            <label for="cep">Adicionar CEP</label>
                            <input type="text" id="cep" name="cep"  value="<%= valores.cep %>" class="<%= avisoErro.cep %>">" 
                            onblur="pesquisarcep(this.value);" onkeyup="mascaraCEP(event)">

                            <button type="submit" name="submit" id="submit" class="submit-btn">  Cadastrar</button>
                        </form>
                    </section>
                </section>
            </section>
        </section>
    </main>
</body>
</html>
